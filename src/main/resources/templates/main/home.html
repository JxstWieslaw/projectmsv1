<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head th:replace = "layouts :: header"></head>
		<body>

			<nav th:replace = "layouts :: navbar"></nav>
			<br>
			<h3>Main DashBoard</h3>
			<h3> 
				<a th:text="${version}"></a> 
			</h3>
			<br>
			<div class="container">
				<hr>
				<h4> Current Projects</h4>
				<div class="row">
					<div class="col-md-6">
						<table class="table table-bordered">
						  <thead class="thead-dark">
						    <tr>
						      <th scope="col">Project ID</th>
						      <th scope="col">Name</th>
						      <th scope="col">Stage</th>
						    </tr>
						  </thead>
						  <tbody>
						  	<tr th:each = "aProject : ${projects}">
								<td th:text = "${aProject.projectId}"/>
								<td th:text = " ${aProject.name}"/>
								<td th:text = " ${aProject.stage}"/>
							</tr>
						  </tbody>
						</table>
					</div>
					<div class="col-md-4">
						<canvas id="myPieChart" height="50" width="50"></canvas>
						
						<script>
							var chartData = "[[${projectListStatusCount}]]"
						</script>
					</div>
				</div>
			</div>
				
			<div class="container">
			<h4> Current Employees</h4>
				<div class="row">
				<div class="col-md-6">
					<table class="table table-bordered">
					  <thead class="thead-dark">
					    <tr>
					      <!-- <th scope="col">Employee ID</th> -->
					      <th scope="col">First Name</th>
					      <th scope="col">Last Name</th>
					      <th scope="col">Project Count</th>
					    </tr>
					  </thead>
					  <tbody>
						<tr th:each = "aEmployeeListProjectsCnt: ${employeesListProjectCnt}">
							<!-- <td th:text = "${aEmployee.employeeId}"/> -->
							<td th:text = " ${aEmployeeListProjectsCnt.firstName}"/>
							<td th:text = " ${aEmployeeListProjectsCnt.lastName}"/>
							<td th:text = " ${aEmployeeListProjectsCnt.projectCount}"/>
							
						</tr>
					  </tbody>
					</table>
				</div>
				
				</div>
			</div>
	</body>
	<script type="text/javascript" th:src="@{js/myChart.js}"></script>
</html>


